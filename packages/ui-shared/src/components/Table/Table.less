@import '~@megafon/ui-core/styles/base.less';

@b: e('.mfui-beta-table');

@{b} {
    @firstColumnWidth: 144px;
    @gradientSize: 48px;
    @shadowSize: 6px;
    @transparent: rgba(255, 255, 255, 0);

    .fontFamily();
    .commonFont();
    display: flex;

    &__scroll {
        display: grid;
        grid-template-columns: auto auto auto;
        max-width: 100%;
        overflow: auto;
        position: relative;
        border: 1px solid @spbSky2;

        @media @desktop {
            max-height: 500px;
        }
    }

    &__top-shadow {
        position: sticky;
        top: 0;
        width: 100%;
        display: block;
        grid-column-end: 4;
        grid-column-start: 1;
        z-index: 2;
        margin-bottom: -@shadowSize;
        height: @shadowSize;
        background: linear-gradient(359.94deg, rgba(0, 0, 0, 0.0001) 0.06%, rgba(0, 0, 0, 0.03) 38.08%, rgba(0, 0, 0, 0.08) 74.98%);
    }

    &__left-shadow {
        position: sticky;
        z-index: 2;
        width: @shadowSize;
        left: 0;
        top: 0;
        bottom: 0;
        margin-right: -@shadowSize;
        background: linear-gradient(270deg, rgba(0, 0, 0, 0.0001) 16.3%, rgba(0, 0, 0, 0.03) 51.81%, rgba(0, 0, 0, 0.08) 86.27%);
    }

    &__bottom-gradient {
        display: block;
        height: @gradientSize;
        width: 100%;
        margin-top: -@gradientSize;
        position: sticky;
        z-index: 1;
        bottom: 0;
        background: linear-gradient(to top, @clearWhite 25%, @transparent);
        grid-column-end: 4;
        grid-column-start: 1;
    }

    &__right-gradient {
        display: block;
        height: 100%;
        width: @gradientSize;
        position: sticky;
        z-index: 1;
        right: 0;
        margin-left: -@gradientSize;
        background: linear-gradient(to left, @clearWhite 25%, @transparent);
    }

    &__table {
        border-spacing: 0;
        border-width: 0;
        border-collapse: separate;
        background-color: @clearWhite;
    }

    &__cell {
        padding: 24px;
        box-sizing: border-box;
        background-color: @clearWhite;

        @media @mobileSM {
            padding-left: 16px;
            padding-right: 16px;
        }
    }

    &__cell:first-child {
        left: 0;
        min-width: @firstColumnWidth;
        width: @firstColumnWidth;
        position: relative;
        border-right: 1px solid @spbSky2;
    }

    &__cell:not(:first-child) {
        max-width: 288px;
    }

    &__row_head &__cell {
        .small();
        height: 72px;
        background-color: @spbSky0;
        color: fade(@freshAsphalt, 50%);
        padding-bottom: 12px;
        vertical-align: bottom;
    }

    &__row:not(:last-child) &__cell {
        border-bottom: 1px solid @spbSky2;
    }

    // mods

    &_min-cell-size_small {
        @{b}__cell:not(:first-child) {
            min-width: 72px;
        }
    }

    &_min-cell-size_large {
        @{b}__cell:not(:first-child) {
            min-width: 144px;
        }
    }

    &_fix-column {
        @{b}__cell:first-child {
            position: sticky;
        }

        @{b}__left-shadow {
            left: @firstColumnWidth;
        }

        @{b}__bottom-gradient {
            z-index: 3;
        }
    }

    &:not(&_touch) {
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background-color: @spbSky1;
        }

        ::-webkit-scrollbar-thumb {
            border-radius: 4px;
            background-color: @spbSky2;
        }

        ::-webkit-scrollbar-corner {
            background-color: @clearWhite;
        }

        @{b}__scroll {
            scrollbar-color: @spbSky2 @spbSky1;
            scrollbar-width: thin;
        }
    }
}
